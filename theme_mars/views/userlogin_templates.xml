<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <!--    Login-->
    <template id="inherit_login_page" inherit_id="web.login">
        <xpath expr="//form[hasclass('oe_login_form')]" position="replace">
            <div class="form_wrapper">
                <h4 style="text-align: center;">Login to your Account</h4>
                <form class="oe_login_form" role="form"
                      t-attf-action="/web/login" method="post"
                      onsubmit="this.action = '/web/login' + location.hash">
                    <input type="hidden" name="csrf_token"
                           t-att-value="request.csrf_token()"/>
                    <div class="mb-3"
                         t-if="databases and len(databases) &gt; 1">
                        <label for="db" class="col-form-label">Database</label>
                        <div t-attf-class="input-group {{'input-group-sm' if form_small else ''}}">
                            <input type="text" name="db"
                                   t-att-value="request.db" id="db"
                                   t-attf-class="form-control #{'form-control-sm' if form_small else ''}"
                                   required="required" readonly="readonly"/>
                            <a role="button" href="/web/database/selector"
                               class="btn btn-secondary">Select
                                <i class="fa fa-database" role="img"
                                   aria-label="Database" title="Database"/>
                            </a>
                        </div>
                    </div>
                    <div class="mb-3 field-login form-group">
                        <input type="text" placeholder="Enter your email"
                               name="login" t-att-value="login" id="login"
                               t-attf-class="form-control #{'form-control-sm' if form_small else ''}"
                               required="required"
                               autofocus="autofocus" autocapitalize="off"/>
                    </div>
                    <div class="mb-3 form-group">
                        <input type="password" placeholder="Enter your Password"
                               name="password" id="password"
                               t-attf-class="form-control #{'form-control-sm' if form_small else ''}"
                               required="required"
                               autocomplete="current-password"
                               t-att-autofocus="'autofocus' if login else None"
                               maxlength="4096"/>
                    </div>
                    <p class="alert alert-danger" t-if="error" role="alert">
                        <t t-esc="error"/>
                    </p>
                    <p class="alert alert-success" t-if="message" role="status">
                        <t t-esc="message"/>
                    </p>
                    <div t-attf-class="clearfix oe_login_buttons text-center gap-1 d-grid mb-1 {{'pt-2' if form_small else 'pt-3'}}">
                        <button type="submit" class="button-login"
                                style="width: fit-content;">Log in
                        </button>
                        <t t-if="debug">
                            <button type="submit" name="redirect"
                                    value="/web/become"
                                    class="btn btn-link btn-sm">Log in
                                as
                                superuser
                            </button>
                        </t>
                        <div class="o_login_auth"/>
                    </div>
                    <input type="hidden" name="redirect"
                           t-att-value="redirect"/>
                </form>
            </div>
        </xpath>
        <xpath expr="//button[@type='submit']" position="after">
            <div class="justify-content-between mt-2 d-flex small">
                <p class="new_account">Don't have an account yet?
                    <a t-if="signup_enabled"
                       t-attf-href="/web/signup?{{ keep_query() }}">
                        Register New Account
                    </a>
                </p>
                <br/>
                <p class="new_account">Forgotten Password?
                    <a t-if="reset_password_enabled"
                       t-attf-href="/web/reset_password?{{ keep_query() }}">
                        Reset
                        Password
                    </a>
                </p>
            </div>
        </xpath>
    </template>
    <!--    Password Recovery-->
    <template id="inherit_reset_password"
              inherit_id="auth_signup.reset_password">
        <xpath expr="//form[hasclass('oe_reset_password_form')]"
               position="replace">
            <div class="form_wrapper">
                <h4 style="text-align: center;margin-top: 80px;margin-bottom: 26px;">
                    Forgot Password?
                </h4>
                <p class="new_account"
                   style="text-align: center;margin-bottom: -40px;font-size: 72%;">
                    To receive a new
                    password, enter your email address below.
                </p>
                <form class="oe_reset_password_form" role="form" method="post"
                      t-if="not message">
                    <input type="hidden" name="csrf_token"
                           t-att-value="request.csrf_token()"/>
                    <t t-if="token and not invalid_token">
                        <t t-call="auth_signup.fields">
                            <t t-set="only_passwords" t-value="1"/>
                        </t>
                    </t>
                    <t t-if="not token">
                        <div class="mb-3 field-login form-group">
                            <input type="text" name="login" t-att-value="login"
                                   id="login" class="form-control"
                                   autofocus="autofocus" required="required"
                                   autocapitalize="off"
                                   placeholder="Enter your email"/>
                        </div>
                    </t>
                    <p class="alert alert-danger" t-if="error" role="alert">
                        <t t-esc="error"/>
                    </p>
                    <input type="hidden" name="redirect"
                           t-att-value="redirect"/>
                    <input type="hidden" name="token" t-att-value="token"/>
                    <div class="oe_login_buttons mt-3 btn_wrapper">
                        <button type="submit" class="button-reset">Reset
                            Password
                        </button>
                        <div class="o_login_auth"/>
                    </div>
                </form>
            </div>
        </xpath>
    </template>
    <!--    Register Page-->
    <template id="inherit_user_register" inherit_id="auth_signup.signup">
        <xpath expr="//form[hasclass('oe_signup_form')]" position="replace">
            <div class="form_wrapper">
                <h4 style="text-align: center;margin-top: 80px;margin-bottom: 4px;">
                    Register New Account
                </h4>
                <p class="new_account"
                   style="text-align: center;margin-bottom: -40px;font-size: 72%;">
                    Create an account
                    by entering the information below. If you are a
                    returning customer please login at the top of the page.
                </p>
                <form class="oe_signup_form" role="form" method="post"
                      t-if="not message">
                    <input type="hidden" name="csrf_token"
                           t-att-value="request.csrf_token()"/>
                    <div class="row">
                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                            <div class="mb-3 field-login form-group">
                                <input type="text" name="login"
                                       t-att-value="login" id="login"
                                       class="field-control form-control-sm"
                                       autofocus="autofocus"
                                       autocapitalize="off" required="required"
                                       t-att-readonly="'readonly' if only_passwords else None"
                                       placeholder="Email"
                                       style="width: 122%;"/>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                            <div class="mb-3 field-name form-group">
                                <input type="text" name="name"
                                       t-att-value="name" id="name"
                                       class="field-control form-control-sm"
                                       placeholder="e.g. John Doe"
                                       required="required"
                                       t-att-readonly="'readonly' if only_passwords else None"
                                       t-att-autofocus="'autofocus' if login and not only_passwords else None"
                                       style="margin-left: 18px;width: 122%;"/>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                            <div class="mb-3 field-password pt-2 form-group">
                                <input type="password" name="password"
                                       id="password"
                                       class="field-control form-control-sm"
                                       required="required"
                                       t-att-autofocus="'autofocus' if only_passwords else None"
                                       placeholder="password"
                                       style="width: 122%;"/>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                            <div class="mb-3 field-confirm_password form-group">
                                <input type="password" name="confirm_password"
                                       id="confirm_password"
                                       class="field-control form-control-sm"
                                       required="required"
                                       placeholder="confirm password"
                                       style="margin-top: 8px; margin-left:18px; width:122%"/>
                            </div>
                        </div>
                    </div>
                    <p class="alert alert-danger" t-if="error" role="alert">
                        <t t-esc="error"/>
                    </p>
                    <input type="hidden" name="redirect"
                           t-att-value="redirect"/>
                    <input type="hidden" name="token" t-att-value="token"/>
                    <div class="text-center oe_login_buttons d-grid pt-3"
                         style="width: fit-content;margin: auto; position: fixed;">
                        <button type="submit" class="button-sighup">Register new
                            account
                        </button>
                        <a t-attf-href="/web/login?{{ keep_query() }}"
                           class="button-cancel" role="button">
                            Cancel
                        </a>
                        <div class="o_login_auth"/>
                    </div>
                </form>
            </div>
        </xpath>
    </template>
</odoo>
